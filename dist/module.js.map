{"version":3,"sources":["../src/module.js"],"names":["FileDatasource","FileDatasourceQueryCtrl","FileConfigCtrl","current","jsonData","encrypt","accessModes","text","value","columnTypes","accessMode","filename","csvDelimiter","csvComment","csvTrimLeadingSpace","sftpHost","sftpPort","sftpUser","sftpIgnoreHostKey","sftpWorkingDir","secureJsonData","sftpPassword","columns","onPasswordReset","event","preventDefault","secureJsonFields","onPasswordChange","currentTarget","url","evt","push","name","type","rowIndex","splice","templateUrl","FileAnnotationsQueryCtrl"],"mappings":"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","file":"module.js","sourcesContent":["import FileDatasource from './datasource';\nimport FileDatasourceQueryCtrl from './query_ctrl';\n\nclass FileConfigCtrl {\n  constructor() {\n    this.current.jsonData.encrypt = 'true';\n\n    this.accessModes = [\n      { text: 'Local', value: 'local' },\n      { text: 'SFTP', value: 'sftp' },\n    ];\n\n    this.columnTypes = [\n      { text: 'Text', value: 'text' },\n      { text: 'Integer', value: 'integer' },\n      { text: 'Real', value: 'real' },\n      { text: 'Timestamp', value: 'timestamp' },\n      { text: 'Date', value: 'date' },\n    ];\n\n    if (!this.current.jsonData.accessMode) {\n      this.current.jsonData.accessMode = 'local';\n    }\n\n    if (!this.current.jsonData.filename) {\n      this.current.jsonData.filename = '';\n    }\n    if (!this.current.jsonData.csvDelimiter) {\n      this.current.jsonData.csvDelimiter = '';\n    }\n    if (!this.current.jsonData.csvComment) {\n      this.current.jsonData.csvComment = '';\n    }\n    if (!this.current.jsonData.csvTrimLeadingSpace) {\n      this.current.jsonData.csvTrimLeadingSpace = true;\n    }\n\n    if (!this.current.jsonData.sftpHost) {\n      this.current.jsonData.sftpHost = '';\n    }\n    if (!this.current.jsonData.sftpPort) {\n      this.current.jsonData.sftpPort = '';\n    }\n    if (!this.current.jsonData.sftpUser) {\n      this.current.jsonData.sftpUser = '';\n    }\n    if (!this.current.jsonData.sftpIgnoreHostKey) {\n      this.current.jsonData.sftpIgnoreHostKey = false;\n    }\n    if (!this.current.jsonData.sftpWorkingDir) {\n      this.current.jsonData.sftpWorkingDir = '';\n    }\n\n    this.current.secureJsonData = this.current.secureJsonData || {};\n    if (!this.current.secureJsonData.sftpPassword) {\n      this.current.secureJsonData.sftpPassword = null;\n    }\n\n    if (!this.current.jsonData.columns) {\n      this.current.jsonData.columns = [];\n    }\n\n    this.onPasswordReset = (event) => {\n      event.preventDefault();\n      this.current['sftpPassword'] = null;\n      this.current.secureJsonFields['sftpPassword'] = false;\n      this.current.secureJsonData = this.current.secureJsonData || {};\n      this.current.secureJsonData['sftpPassword'] = '';\n    };\n\n    this.onPasswordChange = (event) => {\n      this.current.secureJsonData =  this.current.secureJsonData || {};\n      this.current.secureJsonData['sftpPassword'] = event.currentTarget.value;\n    };\n  }\n\n  onFilenameUpdate() {\n    this.current.url = this.current.jsonData.filename;\n  }\n\n  onSftpHostUpdate() {\n    this.current.url = this.current.jsonData.sftpHost + '>' + this.current.jsonData.filename;\n  }\n\n  addColumn(evt) {\n    evt.preventDefault();\n    this.current.jsonData.columns.push({\n      name: '',\n      type: 'text',\n    });\n  }\n\n  deleteColumn(rowIndex) {\n    this.current.jsonData.columns.splice(rowIndex, 1);\n  }\n}\nFileConfigCtrl.templateUrl = 'partials/config.html';\n\nclass FileAnnotationsQueryCtrl {\n  constructor() {\n  }\n}\n\nexport {\n  FileDatasource as Datasource,\n  FileDatasourceQueryCtrl as QueryCtrl,\n  FileConfigCtrl as ConfigCtrl,\n  FileAnnotationsQueryCtrl as AnnotationsQueryCtrl,\n};\n"]}